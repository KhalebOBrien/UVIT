# УВИТ - Дефиницја типа документа - DTD

[Владимир Филиповић](https://vladofilipovic.github.io/index-cy.html){:target="_blank"}

## Опис DTD-a

Дефиниција типа документа - DTD (енг. Document Type Definition) је скуп декларација за обележавање које дефинишу тип документа код језика за обележавање из SGML породице језика за обележавање (SGML, XML, HTML, ...).

DTD користи терцијалну формалну синтаксу, којом декларише који елементи и референце могу да се појаве, и на ком месту у документу одређеног типа. DTD декларацијом се одређује и садржај и атрибути елемената који могу да се појаве у огквиру SGML документа. DTD такође може да декларише ентитете који могу бити искоришћени у инстанци документа.

Сврха DTD-а  је да дефинише дозвољене градивне елементе једног SGML документа. Са DTD-ом, свака SGML датотека може носити опис свог формата. Са DTD-ом, независне групе људи могу се сагласити да користе стандардни DTD за размену података. У таквом случају, развијена апликација може употребљавати стандардни DTD како би проверила да су подаци, примљени из спољашњег света валидни. Такође, она може користити DTD за верификацију сопствених података.

На основу декларације у SGML документу, може се рећи да постоје два типа DTD, и то:

- Унутрашњи DTD

- Спољашњи DTD

Када је DTD декларисан унутар SGML датотеке, онда се ради о унутрашњем DTD-у, а ако је декларисан у посебној тј. одвојеној датотеци, тада је то спољашњи DTD.

DTD-ом се описују следеће важне карактеристике структуре SGML документа:

- елементи који се могу појавити у SGML документу.

- редослед којим се могу појавити.

- факултативни и обавезни елементи.

- атрибути елемената и да ли су они опционални или обавезни.

- могу ли атрибути имати подразумеване вредности.

Коришћење DTD-а даје следеће предности:

- Документација - може се дефинисати сопствени формат за SGML датотеке, па проучавањем DTD документa, корисник/програмер може да разуме структуру података која се обрађује.

- Провера ваљаности - обезбеђује се начин за проверу ваљаности SGML датотека, тако што се проверава да ли се елементи појављују у правом редоследу, да ли су обавезни елементи и атрибути на месту, елементи и атрибути нису уметнути на нетачан начин итд.

Међутим, одмах се могу уочити и неки недостаци код DTD-а:

- Подржава само ниску као тип података.

- Није објектно оријентисан, па се концепт наслеђивања не може применити на DTD-ове.

- Ограничене су могућности изражавања кардиналности елемената.

## Синтакса DTD-а

DTD може бити наведен унутар SGML документа, или се, алтернативно, може чувати у одвојеном документу, а затим се у оквиру SGML документа постави веза према DTD документу.

Синтакса

Основна синтакса DTD-а је следећа:

```xml
<!DOCTYPE element DTD identifikator
[
   deklaracija1
   deklaracija2
   ...
]>
```

Значење елелемата претходно описане синтаксе:

- DTD почиње са конструкцијом `<!DOCTYPE`.

- Део `element` саопштава парсеру да парсирање документа започне баш от тог елемента како корена.

- Део `DTD identifkator` представља идентификатор за DTD, што може бити путања према датотеци која се налази на систему на ком се налази тај SGML документ, или може бити URL датотеке постављене на Интернету. У случају када овај идентификатор реферише на спољашњу путању, он се назива спољашњи подскуп.

- Средње заграде, тј. знаци `[` и `]` указују да се листа декларација елемената (тзв. унутрашњи подскуп) може опдионално појавити.

Сам DTD се поставља на почетку SGML документа чију структуру описује.

### Унутрашњи DTD

DTD се назива унутрашњим DTD ако су елементи декларисани у SGML датотекама. У овом случају, декларација финкционише независно од спољних извора.

Синтакса унутрашњег DTD-а је следећа:

```xml
<!DOCTYPE koreni-element [deklaracije-elemenata]>
```

где је `koreni-element` име елемента који представља корен иза кога следе декларације елемената.

**Пример.** Илуструје једноставан унутрашњи DTD:

```xml
<!DOCTYPE addresa [
   <!ELEMENT addresa (ime,kompanija,telefon)>
   <!ELEMENT ime (#PCDATA)>
   <!ELEMENT kompanija (#PCDATA)>
   <!ELEMENT telefon (#PCDATA)>
]>

<addresa>
   <ime>Vladimir Filipovic</ime>
   <kompanija>Matematički fakultet</kompanija>
   <telefon>(011) 123-4567</telefon>
</addresa>
```

Горњи код садржи следеће структурне елементе:

1. Почетна декларација. Она садржи декларацију типа документа, која се обично назива DOCTYPE:

```xml
<!DOCTYPE addresa [
```

Декларација `DOCTYPE` има ускличник (`!`).

 На почетку имена елемента. Декларација DOCTYPE обавештава парсер да је DTD чији опис следи повезан са SGML документом у ком се декларација налази.

2. Тело DTD-а. Декларацију DOCTYPE прати тело DTD-а, где се декларишу елементи, атрибути, ентитети и анотације:

```xml
<!DOCTYPE addresa [
   <!ELEMENT addresa (ime,kompanija,telefon)>
   <!ELEMENT ime (#PCDATA)>
   <!ELEMENT kompanija (#PCDATA)>
   <!ELEMENT telefon (#PCDATA)>
]>
```

Овде је декларисано неколико елемената који чине речник документа. Тако `<! ЕЛЕМЕНТ kompanija (#PCDATA)>` дефинише  елеменат `kompanija` да буде типа `PCDATA` '- текстуални податак који се може парсирати.

3. Завршна декларација. Одељак декларације DTD-а се затвара помоћу затворене средње заграде и знака "веће" ( тј помоћу `]>`. Овим се ефективно завршава дефиниција типа документа, након које (код унутрашњих DTD) непосредно следи садржај SGML документа.

&#9608;